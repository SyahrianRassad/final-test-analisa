{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/asus/Documents/OJT/analisa 99% usahaku/project/FE-dummy-99/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/asus/Documents/OJT/analisa 99% usahaku/project/FE-dummy-99/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/asus/Documents/OJT/analisa 99% usahaku/project/FE-dummy-99/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddProduct=function AddProduct(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),alamat=_useState6[0],setAlamat=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),file=_useState8[0],setFile=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),preview=_useState10[0],setPreview=_useState10[1];var navigate=useNavigate();var loadImage=function loadImage(e){var image=e.target.files[0];setFile(image);setPreview(URL.createObjectURL(image));};var saveProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var formData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();formData=new FormData();formData.append(\"file\",file);formData.append(\"title\",title);formData.append(\"price\",price);formData.append(\"alamat\",alamat);_context.prev=6;_context.next=9;return axios.post(\"http://localhost:5000/products\",formData,{headers:{\"Content-type\":\"multipart/form-data\"}});case 9:navigate(\"/manageproducts\");_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](6);console.log(_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[6,12]]);}));return function saveProduct(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"columns is-centered mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveProduct,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},placeholder:\"Product Name\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Price\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:price,onChange:function onChange(e){return setPrice(e.target.value);},placeholder:\"Product Price\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Alamat\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:alamat,onChange:function onChange(e){return setAlamat(e.target.value);},placeholder:\"Product Address\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"div\",{className:\"file\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"file-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"file-input\",onChange:loadImage}),/*#__PURE__*/_jsx(\"span\",{className:\"file-cta\",children:/*#__PURE__*/_jsx(\"span\",{className:\"file-label\",children:\"Choose a file...\"})})]})})})]}),preview?/*#__PURE__*/_jsx(\"figure\",{className:\"image is-128x128\",children:/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Preview Image\"})}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-success\",children:\"Save\"})})})]})})});};export default AddProduct;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","AddProduct","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","price","setPrice","_useState5","_useState6","alamat","setAlamat","_useState7","_useState8","file","setFile","_useState9","_useState10","preview","setPreview","navigate","loadImage","e","image","target","files","URL","createObjectURL","saveProduct","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","wrap","_callee$","_context","prev","next","preventDefault","FormData","append","post","headers","t0","console","log","stop","_x","apply","arguments","className","children","onSubmit","type","value","onChange","placeholder","src","alt"],"sources":["C:/Users/asus/Documents/OJT/analisa 99% usahaku/project/FE-dummy-99/src/components/AddProduct.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst AddProduct = () => {\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [alamat, setAlamat] = useState(\"\");\r\n  const [file, setFile] = useState(\"\");\r\n  const [preview, setPreview] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const loadImage = (e) => {\r\n    const image = e.target.files[0];\r\n    setFile(image);\r\n    setPreview(URL.createObjectURL(image));\r\n  };\r\n\r\n  const saveProduct = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    formData.append(\"title\", title);\r\n    formData.append(\"price\", price);\r\n    formData.append(\"alamat\", alamat);\r\n    try {\r\n      await axios.post(\"http://localhost:5000/products\", formData, {\r\n        headers: {\r\n          \"Content-type\": \"multipart/form-data\",\r\n        },\r\n      });\r\n      navigate(\"/manageproducts\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"columns is-centered mt-5\">\r\n      <div className=\"column is-half\">\r\n        <form onSubmit={saveProduct}>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Product Name</label>\r\n            <div className=\"control\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"input\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n                placeholder=\"Product Name\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"field\">\r\n            <label className=\"label\">Price</label>\r\n            <div className=\"control\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"input\"\r\n                value={price}\r\n                onChange={(e) => setPrice(e.target.value)}\r\n                placeholder=\"Product Price\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"field\">\r\n            <label className=\"label\">Alamat</label>\r\n            <div className=\"control\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"input\"\r\n                value={alamat}\r\n                onChange={(e) => setAlamat(e.target.value)}\r\n                placeholder=\"Product Address\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"field\">\r\n            <label className=\"label\">Image</label>\r\n            <div className=\"control\">\r\n              <div className=\"file\">\r\n                <label className=\"file-label\">\r\n                  <input\r\n                    type=\"file\"\r\n                    className=\"file-input\"\r\n                    onChange={loadImage}\r\n                  />\r\n                  <span className=\"file-cta\">\r\n                    <span className=\"file-label\">Choose a file...</span>\r\n                  </span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {preview ? (\r\n            <figure className=\"image is-128x128\">\r\n              <img src={preview} alt=\"Preview Image\" />\r\n            </figure>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          <div className=\"field\">\r\n            <div className=\"control\">\r\n              <button type=\"submit\" className=\"button is-success\">\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddProduct\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}