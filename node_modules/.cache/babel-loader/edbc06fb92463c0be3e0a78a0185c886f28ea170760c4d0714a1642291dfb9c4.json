{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/asus/Documents/OJT/analisa 99% usahaku/project/FE-dummy-99/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/asus/Documents/OJT/analisa 99% usahaku/project/FE-dummy-99/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/asus/Documents/OJT/analisa 99% usahaku/project/FE-dummy-99/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from\"axios\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ManageProductList=function ManageProductList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];useEffect(function(){getProducts();},[]);var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:5000/products\");case 3:response=_context.sent;setProducts(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function getProducts(){return _ref.apply(this,arguments);};}();var deleteProduct=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(productId){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"http://localhost:5000/products/\".concat(productId));case 3:getProducts();_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));return function deleteProduct(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(Link,{to:'/addproducts',className:\"button is-success\",children:\"Add New Product\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"columns is-multiline\",children:products.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"column is-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-image\",children:/*#__PURE__*/_jsx(\"figure\",{className:\"image is-4by3\",children:/*#__PURE__*/_jsx(\"img\",{src:product.url,alt:\"Image\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"media\",children:/*#__PURE__*/_jsx(\"div\",{className:\"media-content\",children:/*#__PURE__*/_jsx(\"p\",{className:\"title is-6\",children:product.name})})})}),/*#__PURE__*/_jsxs(\"footer\",{className:\"card-footer\",children:[/*#__PURE__*/_jsx(Link,{to:\"edit/\".concat(product.id),className:\"card-footer-item\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return deleteProduct(product.id);},className:\"card-footer-item\",children:\"Delete\"})]})]})},product.id);})})]})});};export default ManageProductList;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","ManageProductList","_useState","_useState2","_slicedToArray","products","setProducts","getProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","data","t0","console","log","stop","apply","arguments","deleteProduct","_ref2","_callee2","productId","_callee2$","_context2","delete","concat","_x","children","className","to","map","product","src","url","alt","name","id","onClick"],"sources":["C:/Users/asus/Documents/OJT/analisa 99% usahaku/project/FE-dummy-99/src/components/ManageProductList.jsx"],"sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport axios from \"axios\";\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst ManageProductList = () => {\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        getProducts();\r\n    },[]);\r\n\r\n    const getProducts = async () =>{\r\n        try {\r\n            const response = await axios.get(\"http://localhost:5000/products\")\r\n            setProducts(response.data)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const deleteProduct = async (productId) => {\r\n        try {\r\n          await axios.delete(`http://localhost:5000/products/${productId}`);\r\n          getProducts();\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      };\r\n\r\n  return (\r\n    <div>\r\n  <div className=\"container mt-5\">\r\n  <Link to={'/addproducts'} className=\"button is-success\">\r\n    Add New Product\r\n  </Link>\r\n  <br /><br />\r\n  <div className=\"columns is-multiline\">\r\n    {products.map((product)=>(\r\n           <div className=\"column is-2\" key={product.id}>\r\n           <div className=\"card\">\r\n             <div className=\"card-image\">\r\n               <figure className=\"image is-4by3\">\r\n                 <img src={product.url} \r\n                 alt=\"Image\"/>\r\n               </figure>\r\n             </div>\r\n             <div className=\"card-content\">\r\n               <div className=\"media\">\r\n                \r\n                 <div className=\"media-content\">\r\n                   <p className=\"title is-6\">{product.name}</p>\r\n                 </div>\r\n               </div> \r\n              \r\n             </div>\r\n\r\n             <footer className='card-footer'>\r\n                <Link to={`edit/${product.id}`} className=\"card-footer-item\">\r\n                  Edit\r\n                </Link>\r\n               <a\r\n                  onClick={() => deleteProduct(product.id)}\r\n                  className=\"card-footer-item\"\r\n                >\r\n                  Delete\r\n                </a>\r\n             </footer>\r\n           </div>\r\n           </div>\r\n    ))}\r\n \r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ManageProductList\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}