{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/asus/Documents/OJT/analisa 99% usahaku/project/FE-dummy-99/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/asus/Documents/OJT/analisa 99% usahaku/project/FE-dummy-99/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";var initialState={user:null,isError:false,isSuccess:false,isLoading:false,message:\"\"};export var LoginUser=createAsyncThunk(\"user/loginUser\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user,thunkAPI){var response,message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"http://localhost:5000/login\",{email:user.email,password:user.password});case 3:response=_context.sent;return _context.abrupt(\"return\",response.data);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(!_context.t0.response){_context.next=12;break;}message=_context.t0.response.data.msg;return _context.abrupt(\"return\",thunkAPI.rejectWithValue(message));case 12:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var getMe=createAsyncThunk(\"user/getMe\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_,thunkAPI){var response,message;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"http://localhost:5000/me\");case 3:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);if(!_context2.t0.response){_context2.next=12;break;}message=_context2.t0.response.data.msg;return _context2.abrupt(\"return\",thunkAPI.rejectWithValue(message));case 12:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());export var LogOut=createAsyncThunk(\"user/LogOut\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"http://localhost:5000/logout\");case 2:case\"end\":return _context3.stop();}},_callee3);})));export var authSlice=createSlice({name:\"auth\",initialState:initialState,reducers:{reset:function reset(state){return initialState;}},extraReducers:function extraReducers(builder){builder.addCase(LoginUser.pending,function(state){state.isLoading=true;});builder.addCase(LoginUser.fulfilled,function(state,action){state.isLoading=false;state.isSuccess=true;state.user=action.payload;});builder.addCase(LoginUser.rejected,function(state,action){state.isLoading=false;state.isError=true;state.message=action.payload;});//get User Login\nbuilder.addCase(getMe.pending,function(state){state.isLoading=true;});builder.addCase(getMe.fulfilled,function(state,action){state.isLoading=false;state.isSuccess=true;state.user=action.payload;});builder.addCase(getMe.rejected,function(state,action){state.isLoading=false;state.isError=true;state.message=action.payload;});}});var reset=authSlice.actions.reset;export{reset};export default authSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","user","isError","isSuccess","isLoading","message","LoginUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","thunkAPI","response","wrap","_callee$","_context","prev","next","post","email","password","sent","abrupt","data","t0","msg","rejectWithValue","stop","_x","_x2","apply","arguments","getMe","_ref2","_callee2","_","_callee2$","_context2","get","_x3","_x4","LogOut","_callee3","_callee3$","_context3","delete","authSlice","name","reducers","reset","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","actions","reducer"],"sources":["C:/Users/asus/Documents/OJT/analisa 99% usahaku/project/FE-dummy-99/src/features/authSlice.js"],"sourcesContent":["import {createSlice, createAsyncThunk} from \"@reduxjs/toolkit\"\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n    user: null,\r\n    isError: false,\r\n    isSuccess: false,\r\n    isLoading: false,\r\n    message: \"\"\r\n}\r\n\r\nexport const LoginUser = createAsyncThunk(\"user/loginUser\", async(user, thunkAPI)=>{\r\n    try {\r\n        const response = await axios.post(\"http://localhost:5000/login\", {\r\n            email: user.email,\r\n            password: user.password\r\n        })\r\n        return response.data;\r\n    } catch (error) {\r\n        if(error.response){\r\n            const message = error.response.data.msg;\r\n            return thunkAPI.rejectWithValue(message);\r\n        }\r\n    }\r\n})\r\n\r\nexport const getMe = createAsyncThunk(\"user/getMe\", async(_, thunkAPI)=>{\r\n    try {\r\n        const response = await axios.get(\"http://localhost:5000/me\")\r\n        return response.data;\r\n    } catch (error) {\r\n        if(error.response){\r\n            const message = error.response.data.msg;\r\n            return thunkAPI.rejectWithValue(message);\r\n        }\r\n    }\r\n})\r\n\r\nexport const LogOut = createAsyncThunk(\"user/LogOut\", async()=>{\r\n        await axios.delete(\"http://localhost:5000/logout\")\r\n})\r\n\r\nexport const authSlice = createSlice({\r\n    name: \"auth\",\r\n    initialState,\r\n    reducers:{\r\n        reset: (state) => initialState\r\n    },\r\n    extraReducers:(builder) =>{\r\n        builder.addCase(LoginUser.pending, (state) => {\r\n            state.isLoading = true;\r\n        });\r\n        builder.addCase(LoginUser.fulfilled, (state, action) =>{\r\n            state.isLoading = false;\r\n            state.isSuccess = true;\r\n            state.user = action.payload;\r\n        });\r\n        builder.addCase(LoginUser.rejected, (state, action) => {\r\n            state.isLoading = false;\r\n            state.isError = true;\r\n            state.message = action.payload;\r\n        })\r\n\r\n        //get User Login\r\n\r\n        builder.addCase(getMe.pending, (state) => {\r\n            state.isLoading = true;\r\n        });\r\n        builder.addCase(getMe.fulfilled, (state, action) =>{\r\n            state.isLoading = false;\r\n            state.isSuccess = true;\r\n            state.user = action.payload;\r\n        });\r\n        builder.addCase(getMe.rejected, (state, action) => {\r\n            state.isLoading = false;\r\n            state.isError = true;\r\n            state.message = action.payload;\r\n        })\r\n    }\r\n})\r\n\r\nexport const {reset} = authSlice.actions;\r\nexport default authSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}